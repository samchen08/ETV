/*! TVUI version : 1.1.0  2015-02-28 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.io=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,module){module.exports=a("./lib/")},{"./lib/":2}],2:[function(a,module,exports){function b(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,h=c(a),i=h.source,j=h.id,k=h.path,l=g[j]&&g[j].nsps[k]&&k==g[j].nsps[k].nsp,m=b.forceNew||b["force new connection"]||!1===b.multiplex||l;return m?(f("ignoring socket cache for %s",i),d=e(i,b)):(g[j]||(f("new io instance for %s",i),g[j]=e(i,b)),d=g[j]),d.socket(h.path)}var c=a("./url"),d=a("socket.io-parser"),e=a("./manager"),f=a("debug")("socket.io-client");module.exports=exports=b;var g=exports.managers={};exports.protocol=d.protocol,exports.connect=b,exports.Manager=a("./manager"),exports.Socket=a("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(a,module){function b(a,c){return this instanceof b?(a&&"object"==typeof a&&(c=a,a=void 0),c=c||{},c.path=c.path||"/socket.io",this.nsps={},this.subs=[],this.opts=c,this.reconnection(c.reconnection!==!1),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1e3),this.reconnectionDelayMax(c.reconnectionDelayMax||5e3),this.randomizationFactor(c.randomizationFactor||.5),this.backoff=new k({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==c.timeout?2e4:c.timeout),this.readyState="closed",this.uri=a,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new f.Encoder,this.decoder=new f.Decoder,this.autoConnect=c.autoConnect!==!1,void(this.autoConnect&&this.open())):new b(a,c)}var c=(a("./url"),a("engine.io-client")),d=a("./socket"),e=a("component-emitter"),f=a("socket.io-parser"),g=a("./on"),h=a("component-bind"),i=(a("object-component"),a("debug")("socket.io-client:manager")),j=a("indexof"),k=a("backo2");module.exports=b,b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)},b.prototype.updateSocketIds=function(){for(var a in this.nsps)this.nsps[a].id=this.engine.id},e(b.prototype),b.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},b.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},b.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},b.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},b.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},b.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},b.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},b.prototype.open=b.prototype.connect=function(a){if(i("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;i("opening %s",this.uri),this.engine=c(this.uri,this.opts);var b=this.engine,d=this;this.readyState="opening",this.skipReconnect=!1;var e=g(b,"open",function(){d.onopen(),a&&a()}),f=g(b,"error",function(b){if(i("connect_error"),d.cleanup(),d.readyState="closed",d.emitAll("connect_error",b),a){var c=new Error("Connection error");c.data=b,a(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;i("connect attempt will timeout after %d",h);var j=setTimeout(function(){i("connect attempt timed out after %d",h),e.destroy(),b.close(),b.emit("error","timeout"),d.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(j)}})}return this.subs.push(e),this.subs.push(f),this},b.prototype.onopen=function(){i("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(g(a,"data",h(this,"ondata"))),this.subs.push(g(this.decoder,"decoded",h(this,"ondecoded"))),this.subs.push(g(a,"error",h(this,"onerror"))),this.subs.push(g(a,"close",h(this,"onclose")))},b.prototype.ondata=function(a){this.decoder.add(a)},b.prototype.ondecoded=function(a){this.emit("packet",a)},b.prototype.onerror=function(a){i("error",a),this.emitAll("error",a)},b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new d(this,a),this.nsps[a]=b;var c=this;b.on("connect",function(){b.id=c.engine.id,~j(c.connected,b)||c.connected.push(b)})}return b},b.prototype.destroy=function(a){var b=j(this.connected,a);~b&&this.connected.splice(b,1),this.connected.length||this.close()},b.prototype.packet=function(a){i("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var c=0;c<a.length;c++)b.engine.write(a[c]);b.encoding=!1,b.processPacketQueue()}))},b.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},b.prototype.onclose=function(a){i("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},b.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)i("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();i("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(i("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(i("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(i("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},b.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(a,module){function b(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}module.exports=b},{}],5:[function(a,module,exports){function b(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var c=a("socket.io-parser"),d=a("component-emitter"),e=a("to-array"),f=a("./on"),g=a("component-bind"),h=a("debug")("socket.io-client:socket"),i=a("has-binary");module.exports=exports=b;var j={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},k=d.prototype.emit;d(b.prototype),b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[f(a,"open",g(this,"onopen")),f(a,"packet",g(this,"onpacket")),f(a,"close",g(this,"onclose"))]}},b.prototype.open=b.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},b.prototype.send=function(){var a=e(arguments);return a.unshift("message"),this.emit.apply(this,a),this},b.prototype.emit=function(a){if(j.hasOwnProperty(a))return k.apply(this,arguments),this;var b=e(arguments),d=c.EVENT;i(b)&&(d=c.BINARY_EVENT);var f={type:d,data:b};return"function"==typeof b[b.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),f.id=this.ids++),this.connected?this.packet(f):this.sendBuffer.push(f),this},b.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},b.prototype.onopen=function(){h("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:c.CONNECT})},b.prototype.onclose=function(a){h("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case c.CONNECT:this.onconnect();break;case c.EVENT:this.onevent(a);break;case c.BINARY_EVENT:this.onevent(a);break;case c.ACK:this.onack(a);break;case c.BINARY_ACK:this.onack(a);break;case c.DISCONNECT:this.ondisconnect();break;case c.ERROR:this.emit("error",a.data)}},b.prototype.onevent=function(a){var b=a.data||[];h("emitting event %j",b),null!=a.id&&(h("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?k.apply(this,b):this.receiveBuffer.push(b)},b.prototype.ack=function(a){var b=this,d=!1;return function(){if(!d){d=!0;var f=e(arguments);h("sending ack %j",f);var g=i(f)?c.BINARY_ACK:c.ACK;b.packet({type:g,id:a,data:f})}}},b.prototype.onack=function(a){h("calling ack %s with %j",a.id,a.data);var b=this.acks[a.id];b.apply(this,a.data),delete this.acks[a.id]},b.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},b.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)k.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},b.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},b.prototype.close=b.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:c.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(a,module){(function(b){function c(a,c){var f=a,c=c||b.location;return null==a&&(a=c.protocol+"//"+c.host),"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?c.protocol+a:c.hostname+a),/^(https?|wss?):\/\//.test(a)||(e("protocol-less url %s",a),a="undefined"!=typeof c?c.protocol+"//"+a:"https://"+a),e("parse %s",a),f=d(a)),f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443")),f.path=f.path||"/",f.id=f.protocol+"://"+f.host+":"+f.port,f.href=f.protocol+"://"+f.host+(c&&c.port==f.port?"":":"+f.port),f}var d=a("parseuri"),e=a("debug")("socket.io-client:url");module.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(a,module){function b(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}module.exports=b,b.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},b.prototype.reset=function(){this.attempts=0},b.prototype.setMin=function(a){this.ms=a},b.prototype.setMax=function(a){this.max=a},b.prototype.setJitter=function(a){this.jitter=a}},{}],8:[function(a,module){var b=[].slice;module.exports=function(a,c){if("string"==typeof c&&(c=a[c]),"function"!=typeof c)throw new Error("bind() requires a function");var d=b.call(arguments,2);return function(){return c.apply(a,d.concat(b.call(arguments)))}}},{}],9:[function(a,module){function b(a){return a?c(a):void 0}function c(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}module.exports=b,b.prototype.on=b.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},b.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],10:[function(a,module){function b(a){return b.enabled(a)?function(d){d=c(d);var e=new Date,f=e-(b[a]||e);b[a]=e,d=a+" "+d+" +"+b.humanize(f),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function c(a){return a instanceof Error?a.stack||a.message:a}module.exports=b,b.names=[],b.skips=[],b.enable=function(a){try{localStorage.debug=a}catch(c){}for(var d=(a||"").split(/[\s,]+/),e=d.length,f=0;e>f;f++)a=d[f].replace("*",".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$"))},b.disable=function(){b.enable("")},b.humanize=function(a){var b=1e3,c=6e4,d=60*c;return a>=d?(a/d).toFixed(1)+"h":a>=c?(a/c).toFixed(1)+"m":a>=b?(a/b|0)+"s":a+"ms"},b.enabled=function(a){for(var c=0,d=b.skips.length;d>c;c++)if(b.skips[c].test(a))return!1;for(var c=0,d=b.names.length;d>c;c++)if(b.names[c].test(a))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(d){}},{}],11:[function(a,module){module.exports=a("./lib/")},{"./lib/":12}],12:[function(a,module){module.exports=a("./socket"),module.exports.parser=a("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(a,module){(function(b){function c(a,d){if(!(this instanceof c))return new c(a,d);if(d=d||{},a&&"object"==typeof a&&(d=a,a=null),a&&(a=j(a),d.host=a.host,d.secure="https"==a.protocol||"wss"==a.protocol,d.port=a.port,a.query&&(d.query=a.query)),this.secure=null!=d.secure?d.secure:b.location&&"https:"==location.protocol,d.host){var e=d.host.split(":");d.hostname=e.shift(),e.length?d.port=e.pop():d.port||(d.port=this.secure?"443":"80")}this.agent=d.agent||!1,this.hostname=d.hostname||(b.location?location.hostname:"localhost"),this.port=d.port||(b.location&&location.port?location.port:this.secure?443:80),this.query=d.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==d.upgrade,this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!d.forceJSONP,this.jsonp=!1!==d.jsonp,this.forceBase64=!!d.forceBase64,this.enablesXDR=!!d.enablesXDR,this.timestampParam=d.timestampParam||"t",this.timestampRequests=d.timestampRequests,this.transports=d.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=d.policyPort||843,this.rememberUpgrade=d.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=d.onlyBinaryUpgrades,this.pfx=d.pfx||null,this.key=d.key||null,this.passphrase=d.passphrase||null,this.cert=d.cert||null,this.ca=d.ca||null,this.ciphers=d.ciphers||null,this.rejectUnauthorized=d.rejectUnauthorized||null,this.open()}function d(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var e=a("./transports"),f=a("component-emitter"),g=a("debug")("engine.io-client:socket"),h=a("indexof"),i=a("engine.io-parser"),j=a("parseuri"),k=a("parsejson"),l=a("parseqs");module.exports=c,c.priorWebsocketSuccess=!1,f(c.prototype),c.protocol=i.protocol,c.Socket=c,c.Transport=a("./transport"),c.transports=a("./transports"),c.parser=a("engine.io-parser"),c.prototype.createTransport=function(a){g('creating transport "%s"',a);var b=d(this.query);b.EIO=i.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return c},c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0==this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";var a;try{a=this.createTransport(a)}catch(d){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},c.prototype.setTransport=function(a){g("setting transport %s",a.name);var b=this;this.transport&&(g("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},c.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(g('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"==b.type&&"probe"==b.data){if(g('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;c.priorWebsocketSuccess="websocket"==k.name,g('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!=m.readyState&&(g("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{g('probe transport "%s" failed',a);var d=new Error("probe error");d.transport=k.name,m.emit("upgradeError",d)}}))}function d(){l||(l=!0,j(),k.close(),k=null)}function e(b){var c=new Error("probe error: "+b);c.transport=k.name,d(),g('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",c)}function f(){e("transport closed")}function h(){e("socket closed")}function i(a){k&&a.name!=k.name&&(g('"%s" works - aborting "%s"',a.name,k.name),d())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",h),m.removeListener("upgrading",i)}g('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;c.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",h),this.once("upgrading",i),k.open()},c.prototype.onOpen=function(){if(g("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){g("starting upgrade probes");for(var a=0,b=this.upgrades.length;b>a;a++)this.probe(this.upgrades[a])}},c.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(g('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(k(a.data));break;case"pong":this.setPing();break;case"error":var b=new Error("server error");b.code=a.data,this.emit("error",b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else g('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){g("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},c.prototype.ping=function(){this.sendPacket("ping")},c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)this.callbackBuffer[a]&&this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(g("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(a,b){return this.sendPacket("message",a,b),this},c.prototype.sendPacket=function(a,b,c){if("closing"!=this.readyState&&"closed"!=this.readyState){var d={type:a,data:b};this.emit("packetCreate",d),this.writeBuffer.push(d),this.callbackBuffer.push(c),this.flush()}},c.prototype.close=function(){function a(){d.onClose("forced close"),g("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},c.prototype.onError=function(a){g("socket error %j",a),c.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},c.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){g('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){c.writeBuffer=[],c.callbackBuffer=[],c.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b)}},c.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;d>c;c++)~h(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(a,module){function b(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized}var c=a("engine.io-parser"),d=a("component-emitter");module.exports=b,d(b.prototype),b.timestamps=0,b.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},b.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},b.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},b.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},b.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},b.prototype.onData=function(a){var b=c.decodePacket(a,this.socket.binaryType);this.onPacket(b)},b.prototype.onPacket=function(a){this.emit("packet",a)},b.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(a,module,exports){(function(b){function c(a){var c,g=!1,h=!1,i=!1!==a.jsonp;if(b.location){var j="https:"==location.protocol,k=location.port;k||(k=j?443:80),g=a.hostname!=location.hostname||k!=a.port,h=a.secure!=j}if(a.xdomain=g,a.xscheme=h,c=new d(a),"open"in c&&!a.forceJSONP)return new e(a);if(!i)throw new Error("JSONP disabled");return new f(a)}var d=a("xmlhttprequest"),e=a("./polling-xhr"),f=a("./polling-jsonp"),g=a("./websocket");exports.polling=c,exports.websocket=g}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(a,module){(function(b){function c(){}function d(a){e.call(this,a),this.query=this.query||{},g||(b.___eio||(b.___eio=[]),g=b.___eio),this.index=g.length;var d=this;g.push(function(a){d.onData(a)}),this.query.j=this.index,b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=c)},!1)}var e=a("./polling"),f=a("component-inherit");module.exports=d;var g,h=/\n/g,i=/\\n/g;f(d,e),d.prototype.supportsBinary=!1,d.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),e.prototype.doClose.call(this)},d.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},d.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(b)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),j=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),j.name="d",g.appendChild(j),document.body.appendChild(g),this.form=g,this.area=j}this.form.action=this.uri(),d(),a=a.replace(i,"\\\n"),this.area.value=a.replace(h,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(a,module){(function(b){function c(){}function d(a){if(h.call(this,a),b.location){var c="https:"==location.protocol,d=location.port;d||(d=c?443:80),this.xd=a.hostname!=b.location.hostname||d!=a.port,this.xs=a.secure!=c}}function e(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.create()}function f(){for(var a in e.requests)e.requests.hasOwnProperty(a)&&e.requests[a].abort()}var g=a("xmlhttprequest"),h=a("./polling"),i=a("component-emitter"),j=a("component-inherit"),k=a("debug")("engine.io-client:polling-xhr");module.exports=d,module.exports.Request=e,j(d,h),d.prototype.supportsBinary=!0,d.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,new e(a)},d.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},d.prototype.doPoll=function(){k("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},i(e.prototype),e.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new g(a),d=this;try{if(k("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async),this.supportsBinary&&(c.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(f){}"withCredentials"in c&&(c.withCredentials=!0),this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){4==c.readyState&&(200==c.status||1223==c.status?d.onLoad():setTimeout(function(){d.onError(c.status)},0))},k("xhr data %s",this.data),c.send(this.data)}catch(f){return void setTimeout(function(){d.onError(f)},0)}b.document&&(this.index=e.requestsCount++,e.requests[this.index]=this)},e.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},e.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},e.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},e.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,a)try{this.xhr.abort()}catch(d){}b.document&&delete e.requests[this.index],this.xhr=null}},e.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(c){}a="application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}null!=a&&this.onData(a)},e.prototype.hasXDR=function(){return"undefined"!=typeof b.XDomainRequest&&!this.xs&&this.enablesXDR},e.prototype.abort=function(){this.cleanup()
},b.document&&(e.requestsCount=0,e.requests={},b.attachEvent?b.attachEvent("onunload",f):b.addEventListener&&b.addEventListener("beforeunload",f,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(a,module){function b(a){var b=a&&a.forceBase64;(!h||b)&&(this.supportsBinary=!1),c.call(this,a)}var c=a("../transport"),d=a("parseqs"),e=a("engine.io-parser"),f=a("component-inherit"),g=a("debug")("engine.io-client:polling");module.exports=b;var h=function(){var b=a("xmlhttprequest"),c=new b({xdomain:!1});return null!=c.responseType}();f(b,c),b.prototype.name="polling",b.prototype.doOpen=function(){this.poll()},b.prototype.pause=function(a){function b(){g("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(g("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){g("pre-pause polling complete"),--d||b()})),this.writable||(g("we are currently writing - waiting to pause"),d++,this.once("drain",function(){g("pre-pause writing complete"),--d||b()}))}else b()},b.prototype.poll=function(){g("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},b.prototype.onData=function(a){var b=this;g("polling got data %s",a);var c=function(a){return"opening"==b.readyState&&b.onOpen(),"close"==a.type?(b.onClose(),!1):void b.onPacket(a)};e.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():g('ignoring poll - transport state "%s"',this.readyState))},b.prototype.doClose=function(){function a(){g("writing close packet"),b.write([{type:"close"}])}var b=this;"open"==this.readyState?(g("transport open - closing"),a()):(g("transport not open - deferring close"),this.once("open",a))},b.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;e.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},b.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",e="";return!1!==this.timestampRequests&&(a[this.timestampParam]=+new Date+"-"+c.timestamps++),this.supportsBinary||a.sid||(a.b64=1),a=d.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(e=":"+this.port),a.length&&(a="?"+a),b+"://"+this.hostname+e+this.path+a}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(a,module){function b(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),c.call(this,a)}var c=a("../transport"),d=a("engine.io-parser"),e=a("parseqs"),f=a("component-inherit"),g=a("debug")("engine.io-client:websocket"),h=a("ws");module.exports=b,f(b,c),b.prototype.name="websocket",b.prototype.supportsBinary=!0,b.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=void 0,c={agent:this.agent};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.ws=new h(a,b,c),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},b.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(a){var b=this;setTimeout(function(){c.prototype.onData.call(b,a)},0)}),b.prototype.write=function(a){function b(){c.writable=!0,c.emit("drain")}var c=this;this.writable=!1;for(var e=0,f=a.length;f>e;e++)d.encodePacket(a[e],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){g("websocket closed before onclose event")}});setTimeout(b,0)},b.prototype.onClose=function(){c.prototype.onClose.call(this)},b.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},b.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";return this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=+new Date),this.supportsBinary||(a.b64=1),a=e.encode(a),a.length&&(a="?"+a),b+"://"+this.hostname+c+this.path+a},b.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===b.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(a,module){var b=a("has-cors");module.exports=function(a){var c=a.xdomain,d=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||b))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!d&&e)return new XDomainRequest}catch(f){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":38}],21:[function(a,module){module.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],22:[function(a,module,exports){function b(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function c(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+exports.humanize(this.diff),!b)return a;var c="color: "+this.color;a=[a[0],c,"color: inherit"].concat(Array.prototype.slice.call(a,1));var d=0,e=0;return a[0].replace(/%[a-z%]/g,function(a){"%"!==a&&(d++,"%c"===a&&(e=d))}),a.splice(e,0,c),a}function d(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function e(a){try{null==a?localStorage.removeItem("debug"):localStorage.debug=a}catch(b){}}function f(){var a;try{a=localStorage.debug}catch(b){}return a}exports=module.exports=a("./debug"),exports.log=d,exports.formatArgs=c,exports.save=e,exports.load=f,exports.useColors=b,exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(a){return JSON.stringify(a)},exports.enable(f())},{"./debug":23}],23:[function(a,module,exports){function b(){return exports.colors[i++%exports.colors.length]}function c(a){function c(){}function d(){var a=d,c=+new Date,e=c-(h||c);a.diff=e,a.prev=h,a.curr=c,h=c,null==a.useColors&&(a.useColors=exports.useColors()),null==a.color&&a.useColors&&(a.color=b());var f=Array.prototype.slice.call(arguments);f[0]=exports.coerce(f[0]),"string"!=typeof f[0]&&(f=["%o"].concat(f));var g=0;f[0]=f[0].replace(/%([a-z%])/g,function(b,c){if("%"===b)return b;g++;var d=exports.formatters[c];if("function"==typeof d){var e=f[g];b=d.call(a,e),f.splice(g,1),g--}return b}),"function"==typeof exports.formatArgs&&(f=exports.formatArgs.apply(a,f));var i=d.log||exports.log||console.log.bind(console);i.apply(a,f)}c.enabled=!1,d.enabled=!0;var e=exports.enabled(a)?d:c;return e.namespace=a,e}function d(a){exports.save(a);for(var b=(a||"").split(/[\s,]+/),c=b.length,d=0;c>d;d++)b[d]&&(a=b[d].replace(/\*/g,".*?"),"-"===a[0]?exports.skips.push(new RegExp("^"+a.substr(1)+"$")):exports.names.push(new RegExp("^"+a+"$")))}function e(){exports.enable("")}function f(a){var b,c;for(b=0,c=exports.skips.length;c>b;b++)if(exports.skips[b].test(a))return!1;for(b=0,c=exports.names.length;c>b;b++)if(exports.names[b].test(a))return!0;return!1}function g(a){return a instanceof Error?a.stack||a.message:a}exports=module.exports=c,exports.coerce=g,exports.disable=e,exports.enable=d,exports.enabled=f,exports.humanize=a("ms"),exports.names=[],exports.skips=[],exports.formatters={};var h,i=0},{ms:24}],24:[function(a,module){function b(a){var b=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"y":return c*j;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"h":return c*h;case"minutes":case"minute":case"m":return c*g;case"seconds":case"second":case"s":return c*f;case"ms":return c}}}function c(a){return a>=i?Math.round(a/i)+"d":a>=h?Math.round(a/h)+"h":a>=g?Math.round(a/g)+"m":a>=f?Math.round(a/f)+"s":a+"ms"}function d(a){return e(a,i,"day")||e(a,h,"hour")||e(a,g,"minute")||e(a,f,"second")||a+" ms"}function e(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var f=1e3,g=60*f,h=60*g,i=24*h,j=365.25*i;module.exports=function(a,e){return e=e||{},"string"==typeof a?b(a):e.long?d(a):c(a)}},{}],25:[function(a,module,exports){(function(b){function c(a,b){var c="b"+exports.packets[a.type]+a.data.data;return b(c)}function d(a,b,c){if(!b)return exports.encodeBase64Packet(a,c);var d=a.data,e=new Uint8Array(d),f=new Uint8Array(1+d.byteLength);f[0]=q[a.type];for(var g=0;g<e.length;g++)f[g+1]=e[g];return c(f.buffer)}function e(a,b,c){if(!b)return exports.encodeBase64Packet(a,c);var d=new FileReader;return d.onload=function(){a.data=d.result,exports.encodePacket(a,b,!0,c)},d.readAsArrayBuffer(a.data)}function f(a,b,c){if(!b)return exports.encodeBase64Packet(a,c);if(p)return e(a,b,c);var d=new Uint8Array(1);d[0]=q[a.type];var f=new t([d.buffer,a.data]);return c(f)}function g(a,b,c){for(var d=new Array(a.length),e=l(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var h=a("./keys"),i=a("has-binary"),j=a("arraybuffer.slice"),k=a("base64-arraybuffer"),l=a("after"),m=a("utf8"),n=navigator.userAgent.match(/Android/i),o=/PhantomJS/i.test(navigator.userAgent),p=n||o;exports.protocol=3;var q=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},r=h(q),s={type:"error",data:"parser error"},t=a("blob");exports.encodePacket=function(a,e,g,h){"function"==typeof e&&(h=e,e=!1),"function"==typeof g&&(h=g,g=null);var i=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&i instanceof ArrayBuffer)return d(a,e,h);if(t&&i instanceof b.Blob)return f(a,e,h);if(i&&i.base64)return c(a,h);var j=q[a.type];return void 0!==a.data&&(j+=g?m.encode(String(a.data)):String(a.data)),h(""+j)},exports.encodeBase64Packet=function(a,c){var d="b"+exports.packets[a.type];if(t&&a.data instanceof t){var e=new FileReader;return e.onload=function(){var a=e.result.split(",")[1];c(d+a)},e.readAsDataURL(a.data)}var f;try{f=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(g){for(var h=new Uint8Array(a.data),i=new Array(h.length),j=0;j<h.length;j++)i[j]=h[j];f=String.fromCharCode.apply(null,i)}return d+=b.btoa(f),c(d)},exports.decodePacket=function(a,b,c){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return exports.decodeBase64Packet(a.substr(1),b);if(c)try{a=m.decode(a)}catch(d){return s}var e=a.charAt(0);return Number(e)==e&&r[e]?a.length>1?{type:r[e],data:a.substring(1)}:{type:r[e]}:s}var f=new Uint8Array(a),e=f[0],g=j(a,1);return t&&"blob"===b&&(g=new t([g])),{type:r[e],data:g}},exports.decodeBase64Packet=function(a,c){var d=r[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=k.decode(a.substr(1));return"blob"===c&&t&&(e=new t([e])),{type:d,data:e}},exports.encodePayload=function(a,b,c){function d(a){return a.length+":"+a}function e(a,c){exports.encodePacket(a,f?b:!1,!0,function(a){c(null,d(a))})}"function"==typeof b&&(c=b,b=null);var f=i(a);return b&&f?t&&!p?exports.encodePayloadAsBlob(a,c):exports.encodePayloadAsArrayBuffer(a,c):a.length?void g(a,e,function(a,b){return c(b.join(""))}):c("0:")},exports.decodePayload=function(a,b,c){if("string"!=typeof a)return exports.decodePayloadAsBinary(a,b,c);"function"==typeof b&&(c=b,b=null);var d;if(""==a)return c(s,0,1);for(var e,f,g="",h=0,i=a.length;i>h;h++){var j=a.charAt(h);if(":"!=j)g+=j;else{if(""==g||g!=(e=Number(g)))return c(s,0,1);if(f=a.substr(h+1,e),g!=f.length)return c(s,0,1);if(f.length){if(d=exports.decodePacket(f,b,!0),s.type==d.type&&s.data==d.data)return c(s,0,1);var k=c(d,h+e,i);if(!1===k)return}h+=e,g=""}}return""!=g?c(s,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(a,b){function c(a,b){exports.encodePacket(a,!0,!0,function(a){return b(null,a)})}return a.length?void g(a,c,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}e[f++]=b?0:1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)}):b(new ArrayBuffer(0))},exports.encodePayloadAsBlob=function(a,b){function c(a,b){exports.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,t){var i=new t([c.buffer,h.buffer,a]);b(null,i)}})}g(a,c,function(a,c){return b(new t(c))})},exports.decodePayloadAsBinary=function(a,b,c){"function"==typeof b&&(c=b,b=null);for(var d=a,e=[],f=!1;d.byteLength>0;){for(var g=new Uint8Array(d),h=0===g[0],i="",k=1;255!=g[k];k++){if(i.length>310){f=!0;break}i+=g[k]}if(f)return c(s,0,1);d=j(d,2+i.length),i=parseInt(i);var l=j(d,0,i);if(h)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(m){var n=new Uint8Array(l);l="";for(var k=0;k<n.length;k++)l+=String.fromCharCode(n[k])}e.push(l),d=j(d,i)}var o=e.length;e.forEach(function(a,d){c(exports.decodePacket(a,b,!0),d,o)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(a,module){module.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],27:[function(a,module){function b(a,b,d){function e(a,c){if(e.count<=0)throw new Error("after called too many times");--e.count,a?(f=!0,b(a),b=d):0!==e.count||f||b(null,c)}var f=!1;return d=d||c,e.count=a,0===a?b():e}function c(){}module.exports=b},{}],28:[function(a,module){module.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(0>b&&(b+=d),0>c&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;c>g;g++,h++)f[h]=e[g];return f.buffer}},{}],29:[function(a,module,exports){!function(a){"use strict";exports.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;e>c;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},exports.decode=function(b){var c,d,e,f,g,h=.75*b.length,i=b.length,j=0;"="===b[b.length-1]&&(h--,"="===b[b.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;i>c;c+=4)d=a.indexOf(b[c]),e=a.indexOf(b[c+1]),f=a.indexOf(b[c+2]),g=a.indexOf(b[c+3]),l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(a,module){(function(a){function b(a,b){b=b||{};for(var d=new c,e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}var c=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,d=function(){try{var a=new Blob(["hi"]);return 2==a.size}catch(b){return!1}}(),e=c&&c.prototype.append&&c.prototype.getBlob;module.exports=function(){return d?a.Blob:e?b:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(b,module,exports){(function(b){!function(c){function d(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function e(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=r(b>>>10&1023|55296),b=56320|1023&b),e+=r(b);return e}function f(a,b){return r(a>>b&63|128)}function g(a){if(0==(4294967168&a))return r(a);var b="";return 0==(4294965248&a)?b=r(a>>6&31|192):0==(4294901760&a)?(b=r(a>>12&15|224),b+=f(a,6)):0==(4292870144&a)&&(b=r(a>>18&7|240),b+=f(a,12),b+=f(a,6)),b+=r(63&a|128)}function h(a){for(var b,c=d(a),e=c.length,f=-1,h="";++f<e;)b=c[f],h+=g(b);return h}function i(){if(q>=p)throw Error("Invalid byte index");var a=255&o[q];if(q++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function j(){var a,b,c,d,e;if(q>p)throw Error("Invalid byte index");if(q==p)return!1;if(a=255&o[q],q++,0==(128&a))return a;if(192==(224&a)){var b=i();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=i(),c=i(),e=(15&a)<<12|b<<6|c,e>=2048)return e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=i(),c=i(),d=i(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&1114111>=e))return e;throw Error("Invalid UTF-8 detected")}function k(a){o=d(a),p=o.length,q=0;for(var b,c=[];(b=j())!==!1;)c.push(b);return e(c)}var l="object"==typeof exports&&exports,m="object"==typeof module&&module&&module.exports==l&&module,n="object"==typeof b&&b;(n.global===n||n.window===n)&&(c=n);var o,p,q,r=String.fromCharCode,s={version:"2.0.0",encode:h,decode:k};if("function"==typeof a&&"object"==typeof a.amd&&a.amd)a(function(){return s});else if(l&&!l.nodeType)if(m)m.exports=s;else{var t={},u=t.hasOwnProperty;for(var v in s)u.call(s,v)&&(l[v]=s[v])}else c.utf8=s}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(a,module){(function(a){var b=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e=/(?:^|:|,)(?:\s*\[)+/g,f=/^\s+/,g=/\s+$/;module.exports=function(h){return"string"==typeof h&&h?(h=h.replace(f,"").replace(g,""),a.JSON&&JSON.parse?JSON.parse(h):b.test(h.replace(c,"@").replace(d,"]").replace(e,""))?new Function("return "+h)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(a,module,exports){exports.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},exports.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],34:[function(a,module){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(a){var d=a,e=a.indexOf("["),f=a.indexOf("]");-1!=e&&-1!=f&&(a=a.substring(0,e)+a.substring(e,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=b.exec(a||""),h={},i=14;i--;)h[c[i]]=g[i]||"";return-1!=e&&-1!=f&&(h.source=d,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},{}],35:[function(a,module){function b(a,b){var c;return c=b?new d(a,b):new d(a)}var c=function(){return this}(),d=c.WebSocket||c.MozWebSocket;module.exports=d?b:null,d&&(b.prototype=d.prototype)},{}],36:[function(a,module){(function(b){function c(a){function c(a){if(!a)return!1;if(b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer||b.Blob&&a instanceof Blob||b.File&&a instanceof File)return!0;if(d(a)){for(var e=0;e<a.length;e++)if(c(a[e]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(a.hasOwnProperty(f)&&c(a[f]))return!0}return!1}return c(a)}var d=a("isarray");module.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(a,module){module.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],38:[function(a,module){var b=a("global");try{module.exports="XMLHttpRequest"in b&&"withCredentials"in new b.XMLHttpRequest}catch(c){module.exports=!1}},{global:39}],39:[function(a,module){module.exports=function(){return this}()},{}],40:[function(a,module){var b=[].indexOf;module.exports=function(a,c){if(b)return a.indexOf(c);for(var d=0;d<a.length;++d)if(a[d]===c)return d;return-1}},{}],41:[function(a,module,exports){var b=Object.prototype.hasOwnProperty;exports.keys=Object.keys||function(a){var c=[];for(var d in a)b.call(a,d)&&c.push(d);return c},exports.values=function(a){var c=[];for(var d in a)b.call(a,d)&&c.push(a[d]);return c},exports.merge=function(a,c){for(var d in c)b.call(c,d)&&(a[d]=c[d]);return a},exports.length=function(a){return exports.keys(a).length},exports.isEmpty=function(a){return 0==exports.length(a)}},{}],42:[function(a,module){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(a){for(var d=b.exec(a||""),e={},f=14;f--;)e[c[f]]=d[f]||"";return e}},{}],43:[function(a,module,exports){(function(b){var c=a("isarray"),d=a("./is-buffer");exports.deconstructPacket=function(a){function b(a){if(!a)return a;if(d(a)){var f={_placeholder:!0,num:e.length};return e.push(a),f}if(c(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=b(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=b(a[i]);return g}return a}var e=[],f=a.data,g=a;return g.data=b(f),g.attachments=e.length,{packet:g,buffers:e}},exports.reconstructPacket=function(a,b){function d(a){if(a&&a._placeholder){var e=b[a.num];return e}if(c(a)){for(var f=0;f<a.length;f++)a[f]=d(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=d(a[g]);return a}return a}return a.data=d(a.data),a.attachments=void 0,a},exports.removeBlobs=function(a,e){function f(a,i,j){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||e(h)},k.readAsArrayBuffer(a)}else if(c(a))for(var l=0;l<a.length;l++)f(a[l],l,a);else if(a&&"object"==typeof a&&!d(a))for(var m in a)f(a[m],m,a)}var g=0,h=a;f(h),g||e(h)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(a,module,exports){function b(){}function c(a){var b="",c=!1;return b+=a.type,(exports.BINARY_EVENT==a.type||exports.BINARY_ACK==a.type)&&(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(c=!0,b+=a.nsp),null!=a.id&&(c&&(b+=",",c=!1),b+=a.id),null!=a.data&&(c&&(b+=","),b+=j.stringify(a.data)),i("encoded %j as %s",a,b),b}function d(a,b){function d(a){var d=l.deconstructPacket(a),e=c(d.packet),f=d.buffers;f.unshift(e),b(f)}l.removeBlobs(a,d)}function e(){this.reconstructor=null}function f(a){var b={},c=0;if(b.type=Number(a.charAt(0)),null==exports.types[b.type])return h();if(exports.BINARY_EVENT==b.type||exports.BINARY_ACK==b.type){for(b.attachments="";"-"!=a.charAt(++c);)b.attachments+=a.charAt(c);b.attachments=Number(b.attachments)}if("/"==a.charAt(c+1))for(b.nsp="";++c;){var d=a.charAt(c);if(","==d)break;if(b.nsp+=d,c+1==a.length)break}else b.nsp="/";var e=a.charAt(c+1);if(""!=e&&Number(e)==e){for(b.id="";++c;){var d=a.charAt(c);if(null==d||Number(d)!=d){--c;break}if(b.id+=a.charAt(c),c+1==a.length)break}b.id=Number(b.id)}if(a.charAt(++c))try{b.data=j.parse(a.substr(c))}catch(f){return h()}return i("decoded %s as %j",a,b),b}function g(a){this.reconPack=a,this.buffers=[]}function h(){return{type:exports.ERROR,data:"parser error"}}var i=a("debug")("socket.io-parser"),j=a("json3"),k=(a("isarray"),a("component-emitter")),l=a("./binary"),m=a("./is-buffer");exports.protocol=4,exports.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=b,exports.Decoder=e,b.prototype.encode=function(a,b){if(i("encoding packet %j",a),exports.BINARY_EVENT==a.type||exports.BINARY_ACK==a.type)d(a,b);else{var e=c(a);b([e])}},k(e.prototype),e.prototype.add=function(a){var b;if("string"==typeof a)b=f(a),exports.BINARY_EVENT==b.type||exports.BINARY_ACK==b.type?(this.reconstructor=new g(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!m(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,this.emit("decoded",b))}},e.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},g.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=l.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},g.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(a,module){(function(a){function b(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}module.exports=b}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(a,module){module.exports=a(37)},{}],47:[function(b,module,exports){!function(b){function c(a){if(c[a]!==f)return c[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=c("json-stringify")&&c("json-parse");else{var d,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var h=j.stringify,i="function"==typeof h&&k;if(i){(d=function(){return 1}).toJSON=d;try{i="0"===h(0)&&"0"===h(new Number)&&'""'==h(new String)&&h(g)===f&&h(f)===f&&h()===f&&"1"===h(d)&&"[1]"==h([d])&&"[null]"==h([f])&&"null"==h(null)&&"[null,null,null]"==h([f,g,null])&&h({a:[d,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===h(null,d)&&"[\n 1,\n 2\n]"==h([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==h(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==h(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==h(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==h(new Date(-1))}catch(l){i=!1}}b=i}if("json-parse"==a){var m=j.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){d=m(e);var n=5==d.a.length&&1===d.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return c[a]=!!b}var d,e,f,g={}.toString,h="function"==typeof a&&a.amd,i="object"==typeof JSON&&JSON,j="object"==typeof exports&&exports&&!exports.nodeType&&exports;j&&i?(j.stringify=i.stringify,j.parse=i.parse):j=b.JSON=i||{};var k=new Date(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(l){}if(!c("json")){var m="[object Function]",n="[object Date]",o="[object Number]",p="[object String]",q="[object Array]",r="[object Boolean]",s=c("bug-string-char-index");if(!k)var t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=g?d=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,d=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,d.call(this,a)});var w={"boolean":1,number:1,string:1,undefined:1},x=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!w[c]};if(e=function(a,b){var c,f,h,i=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,f=new c;for(h in f)d.call(f,h)&&i++;return c=f=null,i?e=2==i?function(a,b){var c,e={},f=g.call(a)==m;for(c in a)f&&"prototype"==c||d.call(e,c)||!(e[c]=1)||!d.call(a,c)||b(c)}:function(a,b){var c,e,f=g.call(a)==m;for(c in a)f&&"prototype"==c||!d.call(a,c)||(e="constructor"===c)||b(c);(e||d.call(a,c="constructor"))&&b(c)}:(f=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],e=function(a,b){var c,e,h=g.call(a)==m,i=!h&&"function"!=typeof a.constructor&&x(a,"hasOwnProperty")?a.hasOwnProperty:d;for(c in a)h&&"prototype"==c||!i.call(a,c)||b(c);for(e=f.length;c=f[--e];i.call(a,c)&&b(c));}),e(a,b)},!c("json-stringify")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z="000000",A=function(a,b){return(z+(b||0)).slice(-a)},B="\\u00",C=function(a){var b,c='"',d=0,e=a.length,f=e>10&&s;for(f&&(b=a.split(""));e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=y[g];break;default:if(32>g){c+=B+A(2,g.toString(16));break}c+=f?b[d]:s?a.charAt(d):a[d]}}return c+'"'},D=function(a,b,c,h,i,j,k){var l,m,s,u,w,x,y,z,B,E,F,G,H,I,J,K;try{l=b[a]}catch(L){}if("object"==typeof l&&l)if(m=g.call(l),m!=n||d.call(l,"toJSON"))"function"==typeof l.toJSON&&(m!=o&&m!=p&&m!=q||d.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(v){for(w=t(l/864e5),s=t(w/365.2425)+1970-1;v(s+1,0)<=w;s++);for(u=t((w-v(s,0))/30.42);v(s,u+1)<=w;u++);w=1+w-v(s,u),x=(l%864e5+864e5)%864e5,y=t(x/36e5)%24,z=t(x/6e4)%60,B=t(x/1e3)%60,E=x%1e3}else s=l.getUTCFullYear(),u=l.getUTCMonth(),w=l.getUTCDate(),y=l.getUTCHours(),z=l.getUTCMinutes(),B=l.getUTCSeconds(),E=l.getUTCMilliseconds();l=(0>=s||s>=1e4?(0>s?"-":"+")+A(6,0>s?-s:s):A(4,s))+"-"+A(2,u+1)+"-"+A(2,w)+"T"+A(2,y)+":"+A(2,z)+":"+A(2,B)+"."+A(3,E)+"Z"}else l=null;if(c&&(l=c.call(b,a,l)),null===l)return"null";if(m=g.call(l),m==r)return""+l;if(m==o)return l>-1/0&&1/0>l?""+l:"null";if(m==p)return C(""+l);if("object"==typeof l){for(I=k.length;I--;)if(k[I]===l)throw TypeError();if(k.push(l),F=[],J=j,j+=i,m==q){for(H=0,I=l.length;I>H;H++)G=D(H,l,c,h,i,j,k),F.push(G===f?"null":G);K=F.length?i?"[\n"+j+F.join(",\n"+j)+"\n"+J+"]":"["+F.join(",")+"]":"[]"}else e(h||l,function(a){var b=D(a,l,c,h,i,j,k);b!==f&&F.push(C(a)+":"+(i?" ":"")+b)}),K=F.length?i?"{\n"+j+F.join(",\n"+j)+"\n"+J+"}":"{"+F.join(",")+"}":"{}";return k.pop(),K}};j.stringify=function(a,b,c){var d,e,f,h;if("function"==typeof b||"object"==typeof b&&b)if((h=g.call(b))==m)e=b;else if(h==q){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=g.call(i),(h==p||h==o)&&(f[i]=1));}if(c)if((h=g.call(c))==o){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==p&&(d=c.length<=10?c:c.slice(0,10));return D("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var E,F,G=String.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw E=F=null,SyntaxError()},J=function(){for(var a,b,c,d,e,f=F,g=f.length;g>E;)switch(e=f.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=s?f.charAt(E):f[E],E++,a;case 34:for(a="@",E++;g>E;)if(e=f.charCodeAt(E),32>e)I();else if(92==e)switch(e=f.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=H[e],E++;break;case 117:for(b=++E,c=E+4;c>E;E++)e=f.charCodeAt(E),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||I();
a+=G("0x"+f.slice(b,E));break;default:I()}else{if(34==e)break;for(e=f.charCodeAt(E),b=E;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++E);a+=f.slice(b,E)}if(34==f.charCodeAt(E))return E++,a;I();default:if(b=E,45==e&&(d=!0,e=f.charCodeAt(++E)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(E+1),e>=48&&57>=e)&&I(),d=!1;g>E&&(e=f.charCodeAt(E),e>=48&&57>=e);E++);if(46==f.charCodeAt(E)){for(c=++E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}if(e=f.charCodeAt(E),101==e||69==e){for(e=f.charCodeAt(++E),(43==e||45==e)&&E++,c=E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}return+f.slice(b,E)}if(d&&I(),"true"==f.slice(E,E+4))return E+=4,!0;if("false"==f.slice(E,E+5))return E+=5,!1;if("null"==f.slice(E,E+4))return E+=4,null;I()}return"$"},K=function(a){var b,c;if("$"==a&&I(),"string"==typeof a){if("@"==(s?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=J(),"]"!=a;c||(c=!0))c&&(","==a?(a=J(),"]"==a&&I()):I()),","==a&&I(),b.push(K(a));return b}if("{"==a){for(b={};a=J(),"}"!=a;c||(c=!0))c&&(","==a?(a=J(),"}"==a&&I()):I()),(","==a||"string"!=typeof a||"@"!=(s?a.charAt(0):a[0])||":"!=J())&&I(),b[a.slice(1)]=K(J());return b}I()}return a},L=function(a,b,c){var d=M(a,b,c);d===f?delete a[b]:a[b]=d},M=function(a,b,c){var d,f=a[b];if("object"==typeof f&&f)if(g.call(f)==q)for(d=f.length;d--;)L(f,d,c);else e(f,function(a){L(f,a,c)});return c.call(a,b,f)};j.parse=function(a,b){var c,d;return E=0,F=""+a,c=K(J()),"$"!=J()&&I(),E=F=null,b&&g.call(b)==m?M((d={},d[""]=c,d),"",b):c}}}h&&a(function(){return j})}(this)},{}],48:[function(a,module){function b(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}module.exports=b},{}]},{},[1])(1)});